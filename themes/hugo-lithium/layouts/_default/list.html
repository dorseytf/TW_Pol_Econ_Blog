{{ partial "header.html" . }}

<main class="content" role="main">

  {{ if .Content }}
  <article class="article">
    {{ if .Title }}
    <h1 class="article-title">{{ .Title }}</h1>
    {{ end }}
    <div class="article-content">
      {{ .Content }}
    </div>
  </article>
  {{ end }}
  <div class="archive">
    {{ $pages := .Pages }}
    {{ if .IsHome }}
    {{ $pages = .Site.RegularPages }}
    {{ end }}
    {{ range .Pages.GroupBy "Section" }}
    {{ with $.Site.GetPage "section" .Key }}
      <h2>{{.Title}}</h2>
      {{ else }}
      <!-- If no _index.md is available, ".Key" defaults to the section title and filters to title casing -->
      <h2>{{ .Key | title }}</h2>
      {{ end }}
    {{ range .Pages.ByWeight.Reverse }}
    <article class="archive-item">
      <a href="{{ .RelPermalink }}" class="archive-item-link">{{ .Title }}</a>
      <span class="archive-item-date">
        {{ .Date.Format "2006-01-02" }}
      </span>
    </article>
    {{ end }}
    {{ end }}
  </div>

</main>

{{ partial "footer.html" . }}
